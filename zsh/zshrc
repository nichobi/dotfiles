fpath=($ZDOTDIR/completion $fpath)

[ -f "${XDG_DATA_HOME:-$HOME/.local/share}/zap/zap.zsh" ] && source "${XDG_DATA_HOME:-$HOME/.local/share}/zap/zap.zsh"

plug 'shrink-path'
plug 'jeffreytse/zsh-vi-mode'
plug 'fzf'
plug 'Aloxaf/fzf-tab'
plug 'zsh-users/zsh-autosuggestions'
plug 'zsh-users/zsh-syntax-highlighting' # Must be last!

# Rebind history search, fix for:
# https://github.com/jeffreytse/zsh-vi-mode/issues/127
function zvm_after_init() {
  zvm_bindkey viins '^R' fzf-history-widget
}

setopt interactive_comments # Comments in interactive shell
setopt auto_cd              # cd by typing directory name if it's not a command
setopt auto_pushd           # Automatically pushd when changing directory
setopt pushd_ignore_dups    # Ignore duplicate directories in pushd
#setopt pushdminus           # 

for f in $ZDOTDIR/zshrc.d/*.zsh; do
  source $f
done
